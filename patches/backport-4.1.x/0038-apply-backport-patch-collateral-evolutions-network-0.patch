From a5881fb490fcd51930c3363ba85973ae63ec2362 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 17 Sep 2015 15:44:26 -0500
Subject: [PATCH 38/97] apply backport patch
 collateral-evolutions/network/0021-umode_t-api-change/ath9k.patch

---
 backports/drivers/net/wireless/ath/ath9k/common-spectral.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/backports/drivers/net/wireless/ath/ath9k/common-spectral.c b/backports/drivers/net/wireless/ath/ath9k/common-spectral.c
index 5cee231..27fa7f2 100644
--- a/backports/drivers/net/wireless/ath/ath9k/common-spectral.c
+++ b/backports/drivers/net/wireless/ath/ath9k/common-spectral.c
@@ -552,7 +552,11 @@ static const struct file_operations fops_spectral_fft_period = {
 
 static struct dentry *create_buf_file_handler(const char *filename,
 					      struct dentry *parent,
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,3,0))
 					      umode_t mode,
+#else
+					      int mode,
+#endif
 					      struct rchan_buf *buf,
 					      int *is_global)
 {
-- 
2.5.1

