From 1d141974b997468f41e4809e3f2a7bf80caa8628 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 17 Sep 2015 15:44:32 -0500
Subject: [PATCH 55/97] apply backport patch
 collateral-evolutions/network/0042-pci_error_handlers/atl1e.patch

---
 backports/drivers/net/ethernet/atheros/atl1e/atl1e_main.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/backports/drivers/net/ethernet/atheros/atl1e/atl1e_main.c b/backports/drivers/net/ethernet/atheros/atl1e/atl1e_main.c
index 59a03a1..323ad7f 100644
--- a/backports/drivers/net/ethernet/atheros/atl1e/atl1e_main.c
+++ b/backports/drivers/net/ethernet/atheros/atl1e/atl1e_main.c
@@ -2555,7 +2555,11 @@ static void atl1e_io_resume(struct pci_dev *pdev)
 	netif_device_attach(netdev);
 }
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(3,7,0)
 static const struct pci_error_handlers atl1e_err_handler = {
+#else
+static struct pci_error_handlers atl1e_err_handler = {
+#endif /* LINUX_VERSION_CODE >= KERNEL_VERSION(3,7,0) */
 	.error_detected = atl1e_io_error_detected,
 	.slot_reset = atl1e_io_slot_reset,
 	.resume = atl1e_io_resume,
-- 
2.5.1

